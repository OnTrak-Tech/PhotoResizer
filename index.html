<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Photo Resizer</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Photo Resizer</h1>
                <p class="subtitle">Upload, resize and share your photos</p>
            </div>
            <!-- ✅ Wrap Sign Out Button in a container -->
            <div id="auth-controls" style="display: none;">
              <button onclick="signOut()" class="btn logout-btn">Sign Out</button>
            </div>
        </header>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Upload Image</h2>
            </div>
            <div class="card-body">
                <div class="upload-form">
                    <div class="file-input-wrapper" data-text="Choose Image">
                        <label for="uploadFile" class="visually-hidden">Choose Image to Upload</label>
                        <input type="file" id="uploadFile" accept="image/*" title="Choose Image to Upload">
                    </div>
                    <button class="btn" onclick="uploadImage()"><svg class="cloud-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path><polyline points="9 15 12 12 15 15"></polyline><line x1="12" y1="12" x2="12" y2="21"></line></svg> Upload</button>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Gallery</h2>
            </div>
            <div class="card-body">
                <div id="gallery" class="gallery-grid"></div>
            </div>
        </div>
    </div>
    
    <div id="toast" class="toast"></div>

      <!-- Amplify Script + Config -->
  <script src="https://unpkg.com/aws-amplify@5.0.4/dist/aws-amplify.min.js"></script>
  <script>
    Amplify.configure({
      Auth: {
        region: 'eu-west-1', // ✅ Replace with your real region
        userPoolId: 'eu-west-1_MqFoaeRAT',         // ✅ Replace with your real User Pool ID
        userPoolWebClientId: '2a879chr8h137gsqfpd24tccij', // ✅ Replace with your real App Client ID
        oauth: {
          domain: 'photoresizer.auth.eu-west-1.amazoncognito.com',
          scope: ['email', 'openid', 'profile'],
          redirectSignIn: 'https://main.dbf10xveb0qjh.amplifyapp.com/',
          redirectSignOut: 'https://main.dbf10xveb0qjh.amplifyapp.com/',
          responseType: 'code'
        }
      }
    });
  </script>

    <script src="app.js"></script>
</body>
</html>